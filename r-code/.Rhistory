auc_mean[i] <- mean(Sample_ID_out$auc_e[grep( unique_cond[i], Sample_ID_out$sample )])
auc_sd[i] <- sd(Sample_ID_out$auc_e[grep( unique_cond[i], Sample_ID_out$sample )])
auc_cond[i] <- unique_cond[i]
}
auc_data <- data.frame( meanAuc <- auc_mean , sdAuc <- auc_sd , name <- auc_cond )
auc_data
auc_data$condition <- auc_data$name....auc_cond
auc_data$mean <- auc_data$meanAuc....auc_mean
auc_data$sd <- auc_data$sdAuc....auc_sd
auc_data$antibiotic <- word(sub('', '', auc_data$name....auc3), 2)
auc_data$strain <- word(sub('', '', auc_data$name....auc3), 1)
auc_data
packageVersion(stringr)
packageVersion('stringr')
#### OD600: Area under the curve ####
directory <- '../raw-data/'
raw_filename <- '17.3 pilot 308.309.311 OD.csv'
source <- paste0(directory,raw_filename)
Sample_ID <- data.table::fread(source, header = TRUE, data.table=F)
Sample_ID_out <- SummarizeGrowthByPlate(Sample_ID,
plot_fit = TRUE,
plot_file = paste0(directory,'troubleshooting.pdf'))
Sample_ID_out
Sample_ID_out$condition <- ifelse(is.na(stringr::word(Sample_ID_out$sample, 1, 2)),
Sample_ID_out$sample,
stringr::word(Sample_ID_out$sample, 1, 2))
Sample_ID_out
values_for_plot <- Sample_ID_out[!grepl('empty',Sample_ID_out$condition),]
values_for_plot
values_for_plot <- Sample_ID_out[!grepl('empty',Sample_ID_out$condition),]
values_for_plot$media <- word(sub('', '', values_for_plot$condition), 1)
values_for_plot$strain <- word(sub('', '', values_for_plot$condition), 2)
values_for_plot$media <- stringr::word(sub('', '', values_for_plot$condition), 1)
values_for_plot$strain <- stringr::word(sub('', '', values_for_plot$condition), 2)
values_for_plot
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_boxplot(alpha=0.7) +
stat_summary(fun.y=mean, geom="point", shape=20, size=14, color="red", fill="red") +
theme(legend.position="none") +
scale_fill_brewer(palette="Set1")
packageVersion(gpplot2)
packageVersion(ggplot2)
packageVersion('ggplot2')
library(ggplot2)
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_boxplot(alpha=0.7) +
stat_summary(fun.y=mean, geom="point", shape=20, size=14, color="red", fill="red") +
theme(legend.position="none") +
scale_fill_brewer(palette="Set1")
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_dotplot(alpha=0.7) +
stat_summary(fun.y=mean, geom="point", shape=20, size=6, color="blue", fill="blue") +
theme(legend.position="none") +
scale_fill_brewer(palette="Set1")
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_scatter(alpha=0.7) +
stat_summary(fun.y=mean, geom="point", shape=20, size=6, color="blue", fill="blue") +
theme(legend.position="none") +
scale_fill_brewer(palette="Set1")
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="point", shape=20, size=6, color="blue", fill="blue") +
theme(legend.position="none") +
scale_fill_brewer(palette="Set1")
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", shape=20, color="blue", fill="blue", alpha=0.7 ) +
theme(legend.position="none") +
scale_fill_brewer(palette="Set1")
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", shape=20, color="condition", fill="condition", alpha=0.3 ) +
theme(legend.position="none") +
scale_fill_brewer(palette="Set1")
library(paletteer)
packageVersion('paletteer')
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", shape=20, color="condition", fill="condition", alpha=0.3 ) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", color="condition", fill="condition", alpha=0.3 ) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", color=condition, fill=condition, alpha=0.3 ) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", shape=20, color="condition", fill="condition", alpha=0.3 ) +
theme(legend.position="none")
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", shape=20, color="condition", fill="condition", alpha=0.3 ) +
theme(legend.position="none")
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", color="condition", fill="condition", alpha=0.3 ) +
theme(legend.position="none")
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", color=condition, fill=condition, alpha=0.3 ) +
theme(legend.position="none")
ggplot
ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3 ) +
theme(legend.position="none")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3 ) +
theme(legend.position="none")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3 ) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3 , fill=condition ) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=condition)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=strain)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=strain)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color=black ) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=strain)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black'' ) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
#Stats happens here, before averaging auc values across replicates.
auc_stats <- data.frame( names = Sample_ID_out$sample , means = Sample_ID_out$auc_e )
auc_stats$drug <- word(sub('', '', auc_stats$names), 2)
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=strain)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.7) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="errorbar",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="errorbar",
linewidth=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
linewidth=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
geom_errorbar(stat='summary',
fun.ymin=function(condition) {mean(condition)-sd(condition)/sqrt(length(condition))},
fun.ymax=function(condition) {mean(condition)+sd(condition)/sqrt(length(condition))}) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
geom_errorbar(stat='summary',
fun.ymin=function(condition) {mean(condition)-sd(condition)/sqrt(length(condition))},
fun.ymax=function(condition) {mean(condition)+sd(condition)/sqrt(length(condition))},
width=4) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
geom_errorbar(stat='summary',
fun.ymin=function(condition) {mean(condition)-sd(condition)/sqrt(length(condition))},
fun.ymax=function(condition) {mean(condition)+sd(condition)/sqrt(length(condition))},
width=0.5) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
geom_errorbar(stat='summary',
fun.ymin=function(auc_e) {mean(auc_e)-sd(auc_e)/sqrt(length(auc_e))},
fun.ymax=function(condition) {mean(auc_e)+sd(auc_e)/sqrt(length(auc_e))},
width=0.5) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
geom_errorbar(stat='summary',
fun.ymin=function(auc_e) {mean(auc_e)-sd(auc_e)},
fun.ymax=function(condition) {mean(auc_e)+sd(auc_e)},
width=0.5) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.ymin = function(auc_e) {mean(auc_e)-sd(auc_e)},
fun.ymax = function(condition) {mean(auc_e)+sd(auc_e)}
width=0.5) +
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.ymin = function(auc_e){mean(auc_e)-sd(auc_e)},
fun.ymax = function(auc_e){mean(auc_e)+sd(auc_e)}
width=0.5) +
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.ymin = function(auc_e){mean(auc_e)-sd(auc_e)},
fun.ymax = function(auc_e){mean(auc_e)+sd(auc_e)}) +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.min = function(auc_e){mean(auc_e)-sd(auc_e)},
fun.max = function(auc_e){mean(auc_e)+sd(auc_e)},
geom = 'point') +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black")  +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
install.packages("ggpubr")
packageVersion('ggpub')
packageVersion('ggpubr')
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
facet_grid( media ~ auc_e) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
library(ggplot2)
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
facet_grid( media ~ auc_e) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
facet_grid( media ~ condition ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
facet_grid( media ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
facet_grid( media ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=condition, y=auc_e, fill=media)) +
facet_grid( strain ~ media ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( strain ~ media ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( media ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media), facet.by = media) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=strain, y=auc_e, fill=media), facet.by = media) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=strain, y=auc_e, fill=media), facet.by = media,
add = 'jitter') +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=strain, y=auc_e, fill=media)) +
facet_grid( . ~ media ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados")
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(label = "p.format")
library(ggpubr)
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(label = "p.format")
my_comparisons <- list( c("lb", "lbgm50"), c("tcm", "tcmgm50") )
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(comparisons = my_comparisons)
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(comparisons = my_comparisons) +
stat_compare_means(label.y = 50)
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(comparisons = my_comparisons) +
stat_compare_means(label.y = 20)
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(comparisons = my_comparisons) +
stat_compare_means(label.y = 17)
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(method = "anova", label.y = 17) +
stat_compare_means(label = "p.signif", method = "t.test",
ref.group = "lb")
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(method = "anova", label.y = 17) +
stat_compare_means(label = "p.signif", method = "t.test",
ref.group = "lb", label.y = 16)
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(method = "anova", label.y = 15) +
stat_compare_means(label = "p.signif", method = "t.test",
ref.group = "lb", label.y = 13)
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(method = "anova", label.y = 14) +
stat_compare_means(label = "p.signif", method = "t.test",
ref.group = "lb", label.y = 13)
library(growthcurver)
library(stringr)
library(paletteer)
library(ggpubr)
#tidyverse
library(ggplot2)
#### OD600: Area under the curve ####
directory <- '../raw-data/'
raw_filename <- '17.3 pilot 308.309.311 OD.csv'
source <- paste0(directory,raw_filename)
Sample_ID <- data.table::fread(source, header = TRUE, data.table=F)
Sample_ID_out <- growthcurver::SummarizeGrowthByPlate(Sample_ID,
plot_fit = TRUE,
plot_file = paste0(directory,'troubleshooting.pdf'))
Sample_ID_out$condition <- ifelse(is.na(stringr::word(Sample_ID_out$sample, 1, 2)),
Sample_ID_out$sample,
stringr::word(Sample_ID_out$sample, 1, 2))
values_for_plot <- Sample_ID_out[!grepl('empty',Sample_ID_out$condition),]
values_for_plot$media <- stringr::word(sub('', '', values_for_plot$condition), 1)
values_for_plot$strain <- stringr::word(sub('', '', values_for_plot$condition), 2)
ggplot2::ggplot(values_for_plot, aes(x=media, y=auc_e, fill=media)) +
facet_grid( . ~ strain ) +
geom_point(alpha=0.3) +
stat_summary(fun.y=mean, geom="bar", alpha=0.3, color='black' ) +
stat_summary(fun.y=function(auc_e) {mean(auc_e) + sd(auc_e)*c(-1,1)}, geom="point", shape="\U2014",
size=7, colour="black") +
theme(legend.position="none") +
paletteer::scale_fill_paletteer_d("palettetown::ariados") +
stat_compare_means(method = "anova", label.y = 14) +
stat_compare_means(label = "p.signif", method = "t.test",
ref.group = "lb", label.y = 13)
